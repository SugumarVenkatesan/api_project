{% load djangular_tags %}
<head>
<html ng-app = "djangular-demo">
  <link href="{{STATIC_URL}}css/style.css" rel="stylesheet" type="text/css">
  <link href="{{STATIC_URL}}css/id_homepage.css" rel="stylesheet" type="text/css">
  <link href="{{STATIC_URL}}css/font-awesome.min.css" rel="stylesheet" type="text/css">
  <link href="{{STATIC_URL}}css/bootstrap.min.css" rel="stylesheet" type="text/css">
  <script src="{{STATIC_URL}}js/jquery.min.js"></script>
  <script src="{{STATIC_URL}}js/bootstrap.min.js"></script>
</head>
<body>
  <div id="myCarousel" class="carousel slide" data-ride="carousel">
	
	<div class="container-fluid">

    <!-- Wrapper for slides -->
    <div class="carousel-inner" role="listbox">
      <div class="item active">
        <img src="{{STATIC_URL}}images/dl_image.png" alt="driving license" class="img-responsive margin">
        <div class="carousel-caption sr-only">
        	<h3><strong>Driving License</strong></h3>
        	<p>A document permitting a person to drive a motor vehicle.</p>
      	</div>
      </div>

      <div class="item">
         <img src="{{STATIC_URL}}images/pan_image.png" alt="pan card" class="img-responsive margin">
         <div class="carousel-caption sr-only">
        	<h3><strong>Pan Card</strong></h3>
        	<p>Acts as an identifier for the “person” with the tax department.</p>
      	</div>
      </div>
    
        <img src="{{STATIC_URL}}images/pp_image.jpeg" alt="passport" class="img-responsive margin">
      <div class="item">
        <div class="carousel-caption sr-only">
        	<h3><strong>Passport</strong></h3>
        	<p>An official document issued by a government, certifying the holder's identity and citizenship and entitling them to travel under its protection to and from foreign countries</p>
      	</div>
      </div>

     </div>
    </div>
  </div>
<div class="modal-bg">

{% if messages %}
{% for message in messages %}
    <div class="alert alert-info text-center fade in">
    <button class="batch fa fa-times-circle-o fa-2x" style="color:#000000;" data-dismiss="alert" aria-label="close">
    </button>
    <p class="text-center">{{ message }}</p>
    </div>
{% endfor %}
{% endif %}

	<div class="container theme-showcase" role="main">
	  <div class="jumbotron">
	      <p> <h2>Save your Identity details...</h2> </p>
          <p> Have an Account! </p>
          <button type="button" id="login-btn" data-toggle="modal" data-target = "#loginModal" class="btn btn-success btn-block"> <strong><h3>Log In</h3></strong> </button>
          <br>
          <p> Don't have an Account? </p>
          <button type="button" id="signup-btn" class="btn btn-danger btn-block"> <strong><h3>Sign Up</h3></strong> </button>
	  </div>
	</div>
	
    <div class="modal fade" id="loginModal" role="dialog">
  	  <div class="modal-dialog">

    	<!-- Modal content-->
    	<div class="modal-content">
    
    
	      <div class="modal-header">
	        <button type="button" class="close" data-dismiss="modal">
	        <span class="batch fa fa-times-circle-o fa-2x" style="color:#000000;"></span>
	        </button>
	        <h4><span class="glyphicon glyphicon-log-in"></span> Login</h4>
	      </div>
	      
	      
	      <div class="modal-body">
	        <form role="form">
	          <div class="form-group">
	            <label for="username"><span class="glyphicon glyphicon-user"></span> Username</label>
	            <input type="text" class="form-control" id="username" placeholder="username">
	          </div>
	          <div class="form-group">
	            <label for="password"><span class="fa fa-key"></span>Password</label>
	            <input type="password" class="form-control" id="password" placeholder="password">
	          </div>
	          <button type="submit" class="btn btn-block btn-success">Login
	            <span class="glyphicon glyphicon-log-in"></span>
	          </button>
	        </form>
	      </div>
	 
	 
	      <div class="modal-footer">
	        <button type="submit" class="btn btn-danger btn-default pull-left" data-dismiss="modal">
	          <span class="glyphicon glyphicon-remove"></span> Cancel
	        </button>
	      </div>
	 
   		</div>
   
  	</div>
  </div>
  
  {% include "registration.html" %}
</div> 
</body>
<script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.2.28/angular.js" type="text/javascript"></script>
<script src="{{ STATIC_URL }}djangular/js/ng-django-forms.js" type="text/javascript"></script>
<script type="text/javascript">
$(document).ready(function()
 {
     $('#myCarousel').carousel({
         pause: "false"
     });
     $('#signup-btn').on("click", function(e){
         $('#myCarousel').carousel('pause');
         $('#SignupModal').modal('show');
         $('.djng-field-errors li').hide();
     });
     $('.modal-close').on("click", function(e){
    	 $('#SignupModal').modal('hide')
         $('#myCarousel').carousel('cycle');
     });
     
   
});
	var my_app = angular.module('djangular-demo', ['ng.django.forms']);
	my_app.config(function($httpProvider) {
		$httpProvider.defaults.headers.common['X-Requested-With'] = 'XMLHttpRequest';
		$httpProvider.defaults.headers.common['X-CSRFToken'] = '{% csrf_value %}';
	});
	angular.module('djangular-demo').controller('MyFormCtrl', function($scope, $http, $window, djangoForm) {
		$scope.submit = function() {
			if ($scope.subscribe_data) {
				$http.post("{% url 'register' %}", $scope.subscribe_data).success(function(out_data) {
					$('.djng-field-errors li').show();
					if (!djangoForm.setErrors($scope.my_form, out_data.errors)) {
						// on successful post, redirect onto success page
						$window.location.href = out_data.success_url;
					}
				}).error(function() {
					console.error('An error occured during submission');
				});
			}
			return false;
		};
	});
 </script>
</html>